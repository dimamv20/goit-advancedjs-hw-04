{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '46669299-ebb68efeed7427af4171916f3';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImages = async (query, page = 1, perPage = 15) => {\n    const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n    try {\n        const response = await axios.get(url);\n        return response.data.hits;\n    } catch (error) {\n        throw new Error('Помилка завантаження зображень');\n    }\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nexport const renderImages = (images) => {\n    const listPhotos = document.querySelector('.list-photos');\n\n    const imageElements = images.map(image => `\n        <li>\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n            </a>\n            <div>\n                <p>Likes: ${image.likes}</p>\n                <p>Views: ${image.views}</p>\n                <p>Comments: ${image.comments}</p>\n                <p>Downloads: ${image.downloads}</p>\n            </div>\n        </li>\n    `).join('');\n\n    listPhotos.insertAdjacentHTML('beforeend', imageElements);\n\n    const lightbox = new SimpleLightbox('.list-photos a');\n    lightbox.refresh();\n};\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchForm = document.getElementById('search-form');\nconst searchField = document.getElementById('search-field');\nconst loadMoreButton = document.getElementById('load-more');\nconst listPhotos = document.querySelector('.list-photos');\nconst loadingIndicator = document.createElement('div');\nloadingIndicator.textContent = 'Завантаження...';\nloadingIndicator.classList.add('loading-indicator');\n\nlet currentPage = 1;\nlet currentQuery = '';\n\nsearchForm.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    \n    const query = searchField.value.trim();\n    if (!query) return;\n\n    currentPage = 1;\n    currentQuery = query;\n    listPhotos.innerHTML = '';\n    loadMoreButton.style.display = 'none';\n\n    await performSearch(query);\n    searchField.value = ''; \n});\n\nloadMoreButton.addEventListener('click', async () => {\n    currentPage += 1;\n    await performSearch(currentQuery);\n});\n\nasync function performSearch(query) {\n    document.body.appendChild(loadingIndicator);\n\n    try {\n        const images = await fetchImages(query, currentPage);\n        if (images.length === 0 && currentPage === 1) {\n            showNoResultsMessage();\n            return;\n        }\n\n        renderImages(images);\n\n        \n        if (images.length > 0) {\n            loadMoreButton.style.display = 'block';\n        }\n\n    } catch (error) {\n        console.error(error);\n    } finally {\n        loadingIndicator.remove();\n    }\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","axios","renderImages","images","listPhotos","imageElements","image","SimpleLightbox","searchForm","searchField","loadMoreButton","loadingIndicator","currentPage","currentQuery","event","performSearch","error"],"mappings":"6vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAc,MAAOC,EAAOC,EAAO,EAAGC,EAAU,KAAO,CAChE,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAMG,CAAK,iEAAiEC,CAAI,aAAaC,CAAO,GAE1I,GAAI,CAEA,OADiB,MAAME,EAAM,IAAID,CAAG,GACpB,KAAK,IACxB,MAAe,CACZ,MAAM,IAAI,MAAM,gCAAgC,CACnD,CACL,ECXaE,EAAgBC,GAAW,CACpC,MAAMC,EAAa,SAAS,cAAc,cAAc,EAElDC,EAAgBF,EAAO,IAAIG,GAAS;AAAA;AAAA,uBAEvBA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,4BAGtCA,EAAM,KAAK;AAAA,4BACXA,EAAM,KAAK;AAAA,+BACRA,EAAM,QAAQ;AAAA,gCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAG1C,EAAE,KAAK,EAAE,EAEVF,EAAW,mBAAmB,YAAaC,CAAa,EAEvC,IAAIE,EAAe,gBAAgB,EAC3C,QAAO,CACpB,EClBMC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAiB,SAAS,eAAe,WAAW,EACpDN,EAAa,SAAS,cAAc,cAAc,EAClDO,EAAmB,SAAS,cAAc,KAAK,EACrDA,EAAiB,YAAc,kBAC/BA,EAAiB,UAAU,IAAI,mBAAmB,EAElD,IAAIC,EAAc,EACdC,EAAe,GAEnBL,EAAW,iBAAiB,SAAU,MAAOM,GAAU,CACnDA,EAAM,eAAc,EAEpB,MAAMjB,EAAQY,EAAY,MAAM,KAAI,EAC/BZ,IAELe,EAAc,EACdC,EAAehB,EACfO,EAAW,UAAY,GACvBM,EAAe,MAAM,QAAU,OAE/B,MAAMK,EAAclB,CAAK,EACzBY,EAAY,MAAQ,GACxB,CAAC,EAEDC,EAAe,iBAAiB,QAAS,SAAY,CACjDE,GAAe,EACf,MAAMG,EAAcF,CAAY,CACpC,CAAC,EAED,eAAeE,EAAclB,EAAO,CAChC,SAAS,KAAK,YAAYc,CAAgB,EAE1C,GAAI,CACA,MAAMR,EAAS,MAAMP,EAAYC,EAAOe,CAAW,EACnD,GAAIT,EAAO,SAAW,GAAKS,IAAgB,EAAG,CAC1C,uBACA,MACH,CAEDV,EAAaC,CAAM,EAGfA,EAAO,OAAS,IAChBO,EAAe,MAAM,QAAU,QAGtC,OAAQM,EAAO,CACZ,QAAQ,MAAMA,CAAK,CAC3B,QAAc,CACNL,EAAiB,OAAM,CAC1B,CACL"}